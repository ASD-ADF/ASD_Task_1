/**
    NAMA  : Ressa Firmansyah Fatah
    NIM   : 1301154105
    KELAS : IF-39-01
**/


#include <iostream>
#include <conio.h>

using namespace std;

/**
    - daftarkan seluruh variable global yang dibutuhkan di sini
**/
//=================================================
int Total_Nilai, Nilai_Uas, Nilai_Uts, Nilai_Tubes;
int Persen_UAS, Persen_UTS, Persen_Tubes, uts, uas, tubes;
int A, B, C, D;
string index;
//=================================================


void main_menu();
void set_standar();
void set_proporsi_nilai();
char hitung_index();
void input_nilai();
void thank_you();

int main() {
    main_menu();
    return 0;
}

void main_menu(){
    /**
    - fungsi berisi pilihan menu di dalam aplikasi:
      daftar menu:
      1. set standar index nilai
      2. set proporsi nilai
      3. input nilai
      4. keluar
    - fungsi meminta input pilihan menu dari user
      dan memanggil fungsi menu yang dipilih
    **/

    int pilihan;
    //=================================================
    pilihan = 0;
    while ( pilihan < 4)
    {
        cout << "\n";
        cout << "--- Selamat Datang --- \n \n";
        cout << "Ketikkan Angka untuk memilih menu \n";
        cout << "1. Set standar index nilai \n";
        cout << "2. Set proposisi nilai \n";
        cout << "3. Input nilai \n";
        cout << "4. Keluar \n \n";
        cout << "Pilih menu : "; cin >> pilihan;
        switch ( pilihan )
        {
        case 1:
            set_standar();
            break;
        case 2:
            set_proporsi_nilai();
            break;
        case 3:
            input_nilai();
            break;
        }

    }
    //=================================================
    thank_you();
}


void set_proporsi_nilai(){
    /**
    - fungsi mengubah prosentase nilai UTS, UAS, dan TUBES
    - fungsi akan menerima 3 input prosentase dari user untuk UTS, UAS, dan TUBES
    - fungsi akan mengulang menerima input dari user jika total prosentase != 100
    **/
    //=================================================

    int total_persen;
    total_persen = 0;
    cout << "-- Input Presentase -- \n";
    cout << "Input persentase nilai total tepat 100% \n";
    while ( total_persen != 100 )
    {
        cout << "Persentase UTS   : "; cin >> Persen_UTS;
        cout << "Persentase UAS   : "; cin >> Persen_UAS;
        cout << "Persentase Tubes : "; cin >> Persen_Tubes;
        total_persen = Persen_Tubes + Persen_UAS + Persen_UTS;
        if ( total_persen != 100 )
        {
            cout << "\nJumlah persentase harus 100%, Input sekali lagi \n";
        }
    }
    //=================================================
}

void set_standar(){
    /**
    - fungsi mengubah standar index A, B, C, D, dan E
    - fungsi akan menerima input rentang nilai untuk masing-masing index nilai
    - fungsi akan mengulang menerima input dari user jika terdapat nilai yang overlap
    **/
    //=================================================
    cout << "-- Standard Index Nilai -- \n";
    cout << " *Inputkan batas minimal\n";
    cout << "- Nilai A : "; cin >> A;
    cout << "- Nilai B : "; cin >> B;
    cout << "- Nilai C : "; cin >> C;
    cout << "- Nilai D : "; cin >> D;

    //=================================================
}


char hitung_index(){
    /**
    - fungsi menghitung total nilai berdasarkan input parameter dan proporsi nilai
    - fungsi menentukan index nilai berdasarkan standar nilai
    - fungsi mengembalikan karakter index nilai
    **/
    //=================================================
    Nilai_Uts   = (Persen_UTS * uts) / 100;
    Nilai_Uas   = (Persen_UAS * uas) / 100;
    Nilai_Tubes = (Persen_Tubes * tubes) / 100;

    Total_Nilai = Nilai_Tubes + Nilai_Uas + Nilai_Uts;
    if ( Total_Nilai > A)
        {index = "A";}
    else if ( Total_Nilai > B)
        {index = "B";}
    else if ( Total_Nilai > C)
        {index = "C";}
    else if ( Total_Nilai > D)
        {index = "D";}
    else if ( Total_Nilai < D)
        {index = "E";}
    //=================================================
}


void input_nilai(){
    /**
    - fungsi menerima input nilai UTS, UAS, dan TUBES
    - fungsi menampilkan index yang didapat berdasarkan input nilai UTS, UAS, dan TUBES
    **/
    //=================================================
    cout << "-- Inputkan nilai anda -- \n \n";
    cout << "- Nilai UTS   : \n"; cin >> uts;
    cout << "- Nilai UAS   : \n"; cin >> uas;
    cout << "- Nilai Tubes : \n"; cin >> tubes;
    cout << "\n";
    hitung_index();
    cout << "Indeks nilai anda adalah : " << index << endl;
    cout << "\n";
    //=================================================
}

void thank_you(){
    /**
    - fungsi menampilkan pesan singkat untuk mengakhiri program
    - tampilkan nim dan nama kalian
    **/
    //=================================================
    cout << "\n";
    cout << " ---- Terima Kasih ---- \n";
    cout << " Nama : Ressa Firmansyah Fatah \n";
    cout << " NIM  : 1301154105 \n";
    //=================================================
}
